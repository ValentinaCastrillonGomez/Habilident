<form [formGroup]="alertForm" (ngSubmit)="save()">
    <span mat-dialog-title>Guardar alerta</span>
    <mat-dialog-content class="mat-typography">
        <div class="mt-2 mb-4 space-y-4">
            <div class="flex gap-x-4">
                <mat-form-field appearance="outline">
                    <mat-label>Formato</mat-label>
                    <mat-select formControlName="format" required>
                        @for (formart of formats; track formart._id) {
                        <mat-option [value]="formart._id">{{formart.name}}</mat-option>
                        }
                    </mat-select>
                    @if (alertForm.controls.format.invalid) {
                    <mat-error>Introduce un formato válido</mat-error>
                    }
                </mat-form-field>

                <mat-form-field appearance="outline">
                    <mat-label>Peridiocidad</mat-label>
                    <mat-select id="frequency" formControlName="frequency" required>
                        @for (option of periodicity; track option) {
                        <mat-option [value]="option">{{option}}</mat-option>
                        }
                    </mat-select>
                    @if (alertForm.controls.frequency.invalid) {
                    <mat-error>Introduce una peridiocidad válida</mat-error>
                    }
                </mat-form-field>

                <mat-form-field appearance="outline">
                    <mat-label>Fecha de inicio</mat-label>
                    <input matInput type="datetime-local" formControlName="date" [min]="minDate">
                    @if (alertForm.controls.date.invalid) {
                    <mat-error>Introduce una fecha de inicio válida</mat-error>
                    }
                </mat-form-field>
            </div>
        </div>
    </mat-dialog-content>
    <mat-dialog-actions>
        <button mat-stroked-button mat-dialog-close>Cancelar</button>
        <button mat-flat-button cdkFocusInitial type="submit">Guardar</button>
    </mat-dialog-actions>
</form>